import { getAuth, signOut } from 'firebase/auth';
import firebase from '../global/DB_CONFIG';

const auth = getAuth(firebase);

class NavBar extends HTMLElement {
  connectedCallback() {
    this.render();
    this.setupEventListeners();
    console.log('connectedCallback executed');
  }

  render() {
    const userData = JSON.parse(localStorage.getItem('user'));
    const loggedIn = userData !== null;
    this.innerHTML = `
    <a class="skip-link" id="toContent" href='#main'>To Content</a>
            <div class="logo">
                <a href="#/beranda">
                    <svg width="110" viewBox="0 0 215 89" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M89.876 47.224C89.876 47.656 89.849 48.106 89.795 48.574H79.346C79.418 49.51 79.715 50.23 80.237 50.734C80.777 51.22 81.434 51.463 82.208 51.463C83.36 51.463 84.161 50.977 84.611 50.005H89.525C89.273 50.995 88.814 51.886 88.148 52.678C87.5 53.47 86.681 54.091 85.691 54.541C84.701 54.991 83.594 55.216 82.37 55.216C80.894 55.216 79.58 54.901 78.428 54.271C77.276 53.641 76.376 52.741 75.728 51.571C75.08 50.401 74.756 49.033 74.756 47.467C74.756 45.901 75.071 44.533 75.701 43.363C76.349 42.193 77.249 41.293 78.401 40.663C79.553 40.033 80.876 39.718 82.37 39.718C83.828 39.718 85.124 40.024 86.258 40.636C87.392 41.248 88.274 42.121 88.904 43.255C89.552 44.389 89.876 45.712 89.876 47.224ZM85.151 46.009C85.151 45.217 84.881 44.587 84.341 44.119C83.801 43.651 83.126 43.417 82.316 43.417C81.542 43.417 80.885 43.642 80.345 44.092C79.823 44.542 79.499 45.181 79.373 46.009H85.151ZM91.3937 47.44C91.3937 45.892 91.6817 44.533 92.2577 43.363C92.8517 42.193 93.6527 41.293 94.6607 40.663C95.6687 40.033 96.7937 39.718 98.0357 39.718C99.0257 39.718 99.9257 39.925 100.736 40.339C101.564 40.753 102.212 41.311 102.68 42.013V35.02H107.297V55H102.68V52.84C102.248 53.56 101.627 54.136 100.817 54.568C100.025 55 99.0977 55.216 98.0357 55.216C96.7937 55.216 95.6687 54.901 94.6607 54.271C93.6527 53.623 92.8517 52.714 92.2577 51.544C91.6817 50.356 91.3937 48.988 91.3937 47.44ZM102.68 47.467C102.68 46.315 102.356 45.406 101.708 44.74C101.078 44.074 100.304 43.741 99.3857 43.741C98.4677 43.741 97.6847 44.074 97.0367 44.74C96.4067 45.388 96.0917 46.288 96.0917 47.44C96.0917 48.592 96.4067 49.51 97.0367 50.194C97.6847 50.86 98.4677 51.193 99.3857 51.193C100.304 51.193 101.078 50.86 101.708 50.194C102.356 49.528 102.68 48.619 102.68 47.467ZM125.514 39.934V55H120.897V52.948C120.429 53.614 119.79 54.154 118.98 54.568C118.188 54.964 117.306 55.162 116.334 55.162C115.182 55.162 114.165 54.91 113.283 54.406C112.401 53.884 111.717 53.137 111.231 52.165C110.745 51.193 110.502 50.05 110.502 48.736V39.934H115.092V48.115C115.092 49.123 115.353 49.906 115.875 50.464C116.397 51.022 117.099 51.301 117.981 51.301C118.881 51.301 119.592 51.022 120.114 50.464C120.636 49.906 120.897 49.123 120.897 48.115V39.934H125.514ZM138.037 55L133.447 48.682V55H128.83V35.02H133.447V46.063L138.01 39.934H143.707L137.443 47.494L143.761 55H138.037ZM144.603 47.44C144.603 45.892 144.891 44.533 145.467 43.363C146.061 42.193 146.862 41.293 147.87 40.663C148.878 40.033 150.003 39.718 151.245 39.718C152.307 39.718 153.234 39.934 154.026 40.366C154.836 40.798 155.457 41.365 155.889 42.067V39.934H160.506V55H155.889V52.867C155.439 53.569 154.809 54.136 153.999 54.568C153.207 55 152.28 55.216 151.218 55.216C149.994 55.216 148.878 54.901 147.87 54.271C146.862 53.623 146.061 52.714 145.467 51.544C144.891 50.356 144.603 48.988 144.603 47.44ZM155.889 47.467C155.889 46.315 155.565 45.406 154.917 44.74C154.287 44.074 153.513 43.741 152.595 43.741C151.677 43.741 150.894 44.074 150.246 44.74C149.616 45.388 149.301 46.288 149.301 47.44C149.301 48.592 149.616 49.51 150.246 50.194C150.894 50.86 151.677 51.193 152.595 51.193C153.513 51.193 154.287 50.86 154.917 50.194C155.565 49.528 155.889 48.619 155.889 47.467ZM168.463 35.02V55H163.846V35.02H168.463ZM174.131 38.368C173.321 38.368 172.655 38.134 172.133 37.666C171.629 37.18 171.377 36.586 171.377 35.884C171.377 35.164 171.629 34.57 172.133 34.102C172.655 33.616 173.321 33.373 174.131 33.373C174.923 33.373 175.571 33.616 176.075 34.102C176.597 34.57 176.858 35.164 176.858 35.884C176.858 36.586 176.597 37.18 176.075 37.666C175.571 38.134 174.923 38.368 174.131 38.368ZM176.426 39.934V55H171.809V39.934H176.426ZM188.952 39.772C190.716 39.772 192.12 40.348 193.164 41.5C194.226 42.634 194.757 44.2 194.757 46.198V55H190.167V46.819C190.167 45.811 189.906 45.028 189.384 44.47C188.862 43.912 188.16 43.633 187.278 43.633C186.396 43.633 185.694 43.912 185.172 44.47C184.65 45.028 184.389 45.811 184.389 46.819V55H179.772V39.934H184.389V41.932C184.857 41.266 185.487 40.744 186.279 40.366C187.071 39.97 187.962 39.772 188.952 39.772ZM197.047 47.44C197.047 45.892 197.335 44.533 197.911 43.363C198.505 42.193 199.306 41.293 200.314 40.663C201.322 40.033 202.447 39.718 203.689 39.718C204.751 39.718 205.678 39.934 206.47 40.366C207.28 40.798 207.901 41.365 208.333 42.067V39.934H212.95V55H208.333V52.867C207.883 53.569 207.253 54.136 206.443 54.568C205.651 55 204.724 55.216 203.662 55.216C202.438 55.216 201.322 54.901 200.314 54.271C199.306 53.623 198.505 52.714 197.911 51.544C197.335 50.356 197.047 48.988 197.047 47.44ZM208.333 47.467C208.333 46.315 208.009 45.406 207.361 44.74C206.731 44.074 205.957 43.741 205.039 43.741C204.121 43.741 203.338 44.074 202.69 44.74C202.06 45.388 201.745 46.288 201.745 47.44C201.745 48.592 202.06 49.51 202.69 50.194C203.338 50.86 204.121 51.193 205.039 51.193C205.957 51.193 206.731 50.86 207.361 50.194C208.009 49.528 208.333 48.619 208.333 47.467Z"
                            fill="url(#paint0_linear_327_1098)" />
                        <path
                            d="M19.0632 17.6647C19.1989 17.7335 19.3346 17.8022 19.4744 17.873C21.3645 18.848 22.9203 20.168 24.4348 21.6426C24.6293 21.8309 24.8273 22.0156 25.0259 22.1996C26.4758 23.5699 27.5095 25.294 28.4426 27.0417C28.4883 27.1269 28.534 27.2121 28.5811 27.2999C30.2842 30.5742 30.4779 33.9206 30.4025 37.5383C27.2962 36.5981 24.2319 35.5276 22.143 32.9198C22.0712 32.8337 21.9993 32.7477 21.9253 32.659C20.9621 31.454 20.4505 30.1213 19.9906 28.6687C18.9276 25.3413 16.7817 22.8524 13.7435 21.1636C13.6397 21.1048 13.5359 21.046 13.429 20.9854C12.2865 20.3741 10.988 19.9626 9.68371 20.1839C9.37451 20.4004 9.28097 20.5271 9.19811 20.8957C9.19064 21.4431 9.20885 21.774 9.49997 22.2482C10.0189 22.6786 10.6906 22.8624 11.3155 23.0896C12.5782 23.5571 13.5738 24.1943 14.5834 25.0823C14.7005 25.1812 14.8177 25.28 14.9383 25.3819C16.4481 26.7536 17.1824 28.5574 17.7808 30.466C18.3452 32.2461 19.293 34.3483 20.7819 35.5434C20.9077 35.6475 20.6523 35.7612 20.7819 35.8685C20.7819 35.9608 20.9808 36.0268 21.163 36.1387C21.2376 36.1717 21.3121 36.2047 21.3889 36.2388C21.7329 36.4239 22.0359 36.6426 22.3478 36.8769C24.3158 38.3468 26.3682 39.2407 28.7076 39.9628C29.0464 40.0715 29.3754 40.1975 29.7026 40.3374C27.196 42.4905 23.5649 42.4693 20.4631 42.2967C19.6074 42.2199 18.7793 42.0717 17.9432 41.8768C17.7998 41.8449 17.6563 41.813 17.5085 41.7801C15.0243 41.1671 12.5117 39.8349 10.5237 38.238C10.3916 38.1357 10.2595 38.0334 10.1234 37.9281C9.4282 37.3786 8.80193 36.8226 8.23676 36.1398C7.99109 35.8435 7.73167 35.5639 7.47009 35.2815C3.34074 30.6273 -0.175299 22.4487 0.00676959 16.169C0.00929601 16.053 0.0118224 15.937 0.0144254 15.8174C0.0176737 15.7343 0.0209219 15.6511 0.0242686 15.5654C6.35119 13.733 13.2762 14.5331 19.0632 17.6647Z"
                            fill="#00A9FF" />
                        <path
                            d="M16.0277 78.3359C16.3368 78.4877 16.6378 78.6481 16.9363 78.8196C22.211 81.777 29.1813 82.6144 35.1671 83.0012C35.5717 83.0274 35.9763 83.0538 36.3808 83.0815C39.0191 83.2607 41.6502 83.3351 44.2942 83.3596C44.8832 83.3653 45.4722 83.3725 46.0612 83.3794C46.9412 83.3895 47.8212 83.3979 48.7012 83.4066C48.7012 85.2356 48.7012 87.0646 48.7012 88.949C46.7531 88.9585 46.7531 88.9585 45.897 88.9606C45.3218 88.9619 44.7466 88.9635 44.1715 88.9668C41.0409 88.9842 37.9368 88.8961 34.8268 88.4995C34.7479 88.4896 34.6691 88.4798 34.5879 88.4697C29.1967 87.7952 20.4022 86.6669 16.7355 82.1095C16.3287 81.4047 16.01 80.6785 16.0162 79.856C16.0166 79.7671 16.017 79.6782 16.0174 79.5866C16.0183 79.4949 16.0193 79.4032 16.0203 79.3088C16.0209 79.2153 16.0214 79.1218 16.022 79.0255C16.0233 78.7957 16.0255 78.5658 16.0277 78.3359Z"
                            fill="#072943" />
                        <path
                            d="M28.7122 56.2031C28.731 56.3108 28.7499 56.4185 28.7693 56.5295C29.0685 58.091 29.5421 59.0605 30.852 60.0061C32.0432 60.7537 33.2835 61.1626 34.656 61.4323C34.7823 61.4595 34.9085 61.4867 35.0386 61.5148C36.486 61.8112 37.9399 61.9306 39.411 62.0488C39.6658 62.07 39.9206 62.0912 40.1754 62.1126C40.7923 62.1643 41.4093 62.2142 42.0263 62.2642C42.0263 63.8721 42.0263 65.4801 42.0263 67.1368C29.6711 67.2528 29.6711 67.2528 25.6957 63.5938C24.9912 62.8533 24.5137 61.8959 24.5343 60.8659C24.6179 59.5742 25.1696 58.6248 26.0969 57.7332C26.7024 57.207 27.8581 56.2031 28.7122 56.2031Z"
                            fill="#072943" />
                        <path
                            d="M1.7793 23.4854C2.11949 23.9082 2.26483 24.238 2.51002 24.7212C3.01216 25.6659 3.62578 26.4456 4.32772 27.2471C4.88161 27.8804 5.03724 28.089 5.06318 28.1149C5.14235 28.194 5.14235 28.194 5.28104 28.2985C5.35565 28.3547 5.28104 28.2985 5.45904 28.4315C5.45904 28.4315 5.53822 28.5106 5.68046 28.6978C5.99804 28.9966 6.29566 29.3098 6.59478 29.6269C7.79198 30.8655 9.18117 31.8632 10.6067 32.8241C10.7553 32.927 10.7553 32.927 10.9068 33.0321C13.4708 34.7437 16.2994 33.9342 19.5518 35.0011C20.5875 35.0996 21.1352 36.1092 22.2437 36.7424C23.9063 38.0088 25.6255 38.9521 27.6274 39.5919C29.4484 40.1738 29.8442 40.2474 29.6859 40.3834C27.302 42.4312 22.8767 42.705 19.9267 42.5409C19.1129 42.4678 18.3253 42.3269 17.5301 42.1416C17.3937 42.1112 17.2572 42.0808 17.1167 42.0495C14.7541 41.4665 12.3643 40.1995 10.4736 38.6808C10.348 38.5835 10.2223 38.4862 10.0929 38.386C9.43172 37.8635 8.83609 37.3347 8.29858 36.6852C8.06493 36.4034 7.81821 36.1375 7.56942 35.8689C4.86657 32.8225 1.7793 27.6438 1.7793 23.4854Z"
                            fill="#072A44" />
                        <path
                            d="M19.4961 66.168C19.5009 66.3187 19.5057 66.4693 19.5106 66.6246C19.6105 67.4533 20.0041 67.9842 20.6189 68.5326C23.5257 70.8121 27.8025 71.0943 31.3278 71.2705C31.3278 72.8778 31.3278 74.4851 31.3278 76.1411C27.8528 76.0389 24.1438 75.7197 20.8881 74.4016C20.7758 74.3568 20.7758 74.3568 20.6612 74.3112C19.0078 73.6422 17.4143 72.8217 16.5962 71.1545C16.3328 70.3237 16.3467 69.355 16.7194 68.567C17.248 67.656 18.357 66.168 19.4961 66.168Z"
                            fill="#072943" />
                        <path
                            d="M54.7889 17.2966C54.6532 17.3653 54.5175 17.434 54.3777 17.5049C52.4875 18.4799 50.9318 19.7998 49.4172 21.2744C49.2227 21.4627 49.0248 21.6475 48.8261 21.8314C47.3763 23.2018 46.3426 24.9259 45.4094 26.6735C45.3637 26.7587 45.318 26.844 45.271 26.9318C43.5678 30.2061 43.3741 33.5525 43.4495 37.1701C46.5558 36.23 49.6202 35.1595 51.7091 32.5516C51.7809 32.4655 51.8527 32.3795 51.9267 32.2908C52.89 31.0858 53.4016 29.7531 53.8614 28.3005C54.9245 24.9732 57.0704 22.4842 60.1086 20.7954C60.2123 20.7366 60.3161 20.6778 60.423 20.6172C61.5655 20.0059 62.864 19.5944 64.1683 19.8158C64.4775 20.0322 64.5711 20.1589 64.6539 20.5275C64.6614 21.0749 64.6432 21.4058 64.3521 21.8801C63.8332 22.3104 63.1614 22.4942 62.5366 22.7214C61.2739 23.1889 60.2782 23.8261 59.2686 24.7142C59.1515 24.813 59.0344 24.9119 58.9137 25.0137C57.404 26.3854 56.6696 28.1892 56.0713 30.0979C55.5068 31.8779 54.559 33.9801 53.0702 35.1752C52.9444 35.2793 53.1997 35.393 53.0702 35.5003C53.0702 35.5927 52.8713 35.6586 52.689 35.7706C52.6145 35.8036 52.5399 35.8366 52.4632 35.8706C52.1192 36.0558 51.8162 36.2744 51.5042 36.5087C49.5362 37.9787 47.4838 38.8725 45.1445 39.5946C44.8056 39.7033 44.4767 39.8293 44.1495 39.9692C46.656 42.1224 50.2872 42.1011 53.389 41.9285C54.2446 41.8517 55.0728 41.7035 55.9088 41.5087C56.0523 41.4768 56.1957 41.4448 56.3436 41.4119C58.8277 40.7989 61.3404 39.4667 63.3284 37.8699C63.4605 37.7676 63.5926 37.6653 63.7287 37.5599C64.4239 37.0105 65.0501 36.4545 65.6153 35.7716C65.861 35.4753 66.1204 35.1957 66.382 34.9133C70.5113 30.2591 74.0274 22.0805 73.8453 15.8008C73.8428 15.6848 73.8402 15.5688 73.8376 15.4493C73.8344 15.3661 73.8311 15.2829 73.8278 15.1973C67.5009 13.3648 60.5759 14.165 54.7889 17.2966Z"
                            fill="#00A9FF" />
                        <path
                            d="M72.0806 22.7695C71.7404 23.1924 71.595 23.5221 71.3498 24.0054C70.8477 24.9501 70.2341 25.7297 69.5321 26.5313C68.9783 27.1645 68.8226 27.3731 68.7967 27.3991C68.7175 27.4782 68.7175 27.4782 68.5788 27.5826C68.5042 27.6388 68.5788 27.5826 68.4008 27.7157C68.4008 27.7157 68.3216 27.7948 68.1794 27.982C67.8618 28.2808 67.5642 28.5939 67.2651 28.9111C66.0679 30.1496 64.6787 31.1474 63.2531 32.1083C63.1046 32.2112 63.1046 32.2112 62.953 32.3163C60.3891 34.0279 57.5604 33.2184 54.3081 34.2853C53.2723 34.3838 52.7246 35.3934 51.6162 36.0266C49.9536 37.293 48.2343 38.2363 46.2325 38.876C44.4115 39.458 44.0156 39.5315 44.174 39.6676C46.5579 41.7154 50.9832 41.9892 53.9332 41.8251C54.747 41.752 55.5346 41.611 56.3297 41.4258C56.4662 41.3954 56.6026 41.365 56.7432 41.3337C59.1058 40.7507 61.4955 39.4837 63.3863 37.965C63.5119 37.8677 63.6375 37.7704 63.767 37.6702C64.4281 37.1476 65.0238 36.6188 65.5613 35.9694C65.7949 35.6876 66.0417 35.4216 66.2904 35.1531C68.9933 32.1067 72.0806 26.928 72.0806 22.7695Z"
                            fill="#072A44" />
                        <path
                            d="M42.6382 5.45679C44.3585 6.73958 45.3853 8.39262 45.7522 10.4973C45.9373 12.7173 45.2735 14.6913 43.8615 16.3994C43.0143 17.2995 42.0417 17.8217 40.8848 18.2311C40.7403 18.2826 40.5958 18.334 40.447 18.387C40.3382 18.4252 40.2294 18.4634 40.1172 18.5027C40.1034 21.8134 40.0929 25.1241 40.0865 28.4348C40.0835 29.9721 40.0793 31.5095 40.0725 33.0468C40.0666 34.3874 40.0628 35.728 40.0614 37.0686C40.0607 37.7778 40.0589 38.4871 40.0545 39.1963C40.0505 39.8652 40.0493 40.534 40.0502 41.203C40.05 41.4472 40.0488 41.6914 40.0465 41.9356C40.0252 44.3228 40.4815 46.225 42.1284 48.0136C46.1514 51.8238 52.6105 51.6926 57.7636 51.8588C57.7636 53.8646 57.7636 55.8704 57.7636 57.937C56.873 57.9404 55.9824 57.9434 55.0918 57.9451C54.7904 57.9459 54.4891 57.9469 54.1877 57.9482C52.5686 57.955 50.9527 57.9445 49.3349 57.8733C49.1415 57.865 49.1415 57.865 48.9442 57.8565C44.6371 57.645 39.6352 56.7427 36.5224 53.5173C35.4161 52.1409 35.2061 50.6007 35.372 48.8938C35.5347 48.2308 35.7537 47.5968 36.1208 47.0175C36.3207 46.5246 36.3044 46.0475 36.303 45.5238C36.3039 45.4076 36.3047 45.2915 36.3056 45.1719C36.3082 44.7824 36.3086 44.3929 36.309 44.0035C36.3104 43.7244 36.3119 43.4454 36.3135 43.1663C36.3176 42.4083 36.3198 41.6502 36.3218 40.8922C36.3241 40.1002 36.328 39.3082 36.3318 38.5161C36.3388 37.0161 36.3442 35.5161 36.3491 34.0161C36.3548 32.3085 36.3621 30.6008 36.3696 28.8932C36.3849 25.3803 36.3982 21.8674 36.41 18.3545C36.2473 18.3105 36.0847 18.2666 35.917 18.2213C34.4275 17.7749 33.1031 16.475 32.3274 15.1497C32.1432 14.7888 31.9723 14.4279 31.8131 14.0552C31.7607 13.9368 31.7083 13.8183 31.6544 13.6962C31.0352 11.9796 31.2771 10.0725 31.9614 8.42178C32.8133 6.64528 34.1682 5.37468 36.0138 4.67733C38.2986 3.95785 40.5929 4.1482 42.6382 5.45679Z"
                            fill="#082A45" />
                        <ellipse cx="38.4499" cy="11.3923" rx="4.98412" ry="4.98412" fill="white" />
                        <path
                            d="M36.3105 11.2168C36.3105 10.1354 37.1872 9.25879 38.2686 9.25879C39.35 9.25879 40.2266 10.1354 40.2266 11.2168V11.3948V13.5309V15.8449C40.2266 16.9263 39.35 17.803 38.2686 17.803C37.1872 17.803 36.3105 16.9263 36.3105 15.8449V11.2168Z"
                            fill="#082A45" />
                        <path
                            d="M48.9482 13.1719C48.26 13.1719 47.7021 12.614 47.7021 11.9258C47.7021 11.2377 48.26 10.6798 48.9482 10.6798H49.0615H50.4208H51.8933C52.5815 10.6798 53.1394 11.2377 53.1394 11.9258C53.1394 12.614 52.5815 13.1719 51.8933 13.1719H48.9482Z"
                            fill="#082A45" />
                        <path
                            d="M38.4475 2.84766C37.661 2.84766 37.0234 2.21009 37.0234 1.42362V0.711606C37.0234 0.318369 37.3422 -0.000411272 37.7355 -0.000411272H38.4475C39.2339 -0.000411272 39.8715 0.63715 39.8715 1.42362C39.8715 2.21009 39.2339 2.84766 38.4475 2.84766Z"
                            fill="#082A45" />
                        <path
                            d="M27.9468 13.1709C28.635 13.1709 29.1929 12.613 29.1929 11.9249C29.1929 11.2367 28.635 10.6788 27.9468 10.6788H27.8336H26.4743H25.0017C24.3135 10.6788 23.7557 11.2367 23.7557 11.9249C23.7557 12.613 24.3135 13.1709 25.0017 13.1709H27.9468Z"
                            fill="#082A45" />
                        <defs>
                            <linearGradient id="paint0_linear_327_1098" x1="77" y1="47.5" x2="215" y2="46"
                                gradientUnits="userSpaceOnUse">
                                <stop stop-color="#97D5F6" />
                                <stop offset="1" stop-color="#00A9FF" />
                            </linearGradient>
                        </defs>
                    </svg>
                </a>
            </div>
            <button id="btnMenu" aria-label="Tombol Menu">
                <svg class="menu" xmlns="http://www.w3.org/2000/svg" width="27" height="29" viewBox="0 0 24 24">
                    <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"></path>
                </svg>
                <svg class="times hidden-menu" xmlns="http://www.w3.org/2000/svg" width="27" height="27"
                    viewBox="0 0 24 24">
                    <path d="m16.192 6.344l-4.243 4.242l-4.242-4.242l-1.414 1.414L10.535 12l-4.242 4.242l1.414 1.414l4.242-4.242l4.243 4.242l1.414-1.414L13.364 12l4.242-4.242z" />
                </svg>
            </button>
            <ul class='list-nav'>
                <li><a href="#/beranda">Beranda</a></li>
                <li><a href="#/tips">Tips</a></li>
                <li><a href="#/event">Event</a></li>
                <li><a href="#/diskusi">Diskusi</a></li>
                <li><a href="#/tentang">Tentang</a></li>

                ${loggedIn ? `<li><details class="user-login">
                <summary> 
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" style="fill: rgba(0, 0, 0, 0.2); min-width: 40px">
                    <path d="M12 2C6.579 2 2 6.579 2 12s4.579 10 10 10 10-4.579 10-10S17.421 2 12 2zm0 5c1.727 0 3 1.272 3 3s-1.273 3-3 3c-1.726 0-3-1.272-3-3s1.274-3 3-3zm-5.106 9.772c.897-1.32 2.393-2.2 4.106-2.2h2c1.714 0 3.209.88 4.106 2.2C15.828 18.14 14.015 19 12 19s-3.828-.86-5.106-2.228z"></path>
                    </svg>
                    ${userData.name}
                </summary>
                <div class="content">
                    <button type="button" id="logoutBtn" class="main-btn">Logout</button></details></li>
                </div>` : '<li><button type="button" id="loginBtn" class="main-btn">Login</button></li>'}
            </ul>
   `;

    if (loggedIn) {
      const logoutBtn = this.querySelector('#logoutBtn');
      logoutBtn.addEventListener('click', () => {
        this.handleLogout();
        location.assign('/#/login');
      });
    } else if (!loggedIn) {
      const loginBtn = this.querySelector('#loginBtn');
      loginBtn.addEventListener('click', () => this.handleLogin());
    }
  }

  // eslint-disable-next-line class-methods-use-this
  handleLogin() {
    window.location.hash = '#/login';
  }

  handleLogout() {
    signOut(auth).then(() => {
      localStorage.removeItem('user');
      this.render();
    })
      .catch((e) => {
        console.error('Error during logout:', e.code, e.message);
      });
  }

  setupEventListeners() {
    const userData = JSON.parse(localStorage.getItem('user'));
    const loggedIn = userData !== null;
    console.log('Button clicked!');
    const loginBtn = loggedIn ? this.querySelector('#logoutBtn') : this.querySelector('#loginBtn');
    loginBtn.addEventListener('click', () => {
      window.location.hash = '#/login';
    });
  }
}
export default NavBar;
customElements.define('nav-bar', NavBar);
